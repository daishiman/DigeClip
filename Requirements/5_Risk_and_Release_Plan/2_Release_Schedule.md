```markdown
# リリース計画

> **前提:**
> - **無料枠(Vercel＋Supabase)** でシステムを稼働させ、**初心者でも短期間**で導入・保守できるようにする
> - 小さくリリース → フィードバックを得ながら段階的に拡張
> - 各フェーズごとの納期を厳格にせず、**1週間以内のMVPリリース**を最優先とする

---

## 1. 開発フェーズ別スケジュール

| フェーズ          | 期間(目安)       | 主要マイルストーン                                                    |
|-------------------|------------------|-----------------------------------------------------------------------|
| **フェーズ1:** 基盤構築  | ~1週間         | - Next.js + Tailwind セットアップ<br>- Supabase DB構成定義<br>- 認証(メール&Google OAuth)実装<br>- MVP版デプロイ(無料枠) |
| **フェーズ2:** 監視機能 | +1〜2週間程度  | - YouTube/RSS監視実装<br>- Cronジョブ設定(Vercel毎時実行)<br>- AI要約の土台 |
| **フェーズ3:** AI要約・通知 | +1〜2週間程度  | - AI要約API連携（Gemini-2.0-flash等）<br>- Discord通知機能<br>- コンテンツ一覧/詳細画面 |
| **フェーズ4:** 拡張機能    | 随時           | - タグ機能・複数AIモデル比較<br>- 段階的要約の最適化<br>- 通知テンプレ強化 等   |

> **補足:**
> - 上記期間はあくまでも**目安**。小規模チーム/初心者前提で、着実にリリースを回す方針
> - 各フェーズ完了ごとに**簡単なレビュー＆ユーザーフィードバック**を取り入れる

---

## 2. リリース手順

1. **ステージングデプロイ**
   - 新機能や修正を**GitHubブランチ**で開発
   - Pull Request → Vercel の Preview Deploy で確認
   - 主要機能が揃ったら**ステージング用環境**にデプロイ（環境変数はステージング用に設定）

2. **テスト/承認**
   - ステージング環境で**基本テスト**（E2E/動作確認）
   - 要求仕様や**リリースチェックリスト**に合致しているか確認
   - 問題なければ**承認**を得て、本番リリースへ進む

3. **本番デプロイ**
   - メインブランチへのマージで**Vercel本番**へ自動デプロイ
   - デプロイ後すぐに**サーバレスFunctions**が更新され、新バージョンが有効化される

4. **スモークテスト/完了報告**
   - 本番環境で**最低限の動作確認**（ログイン/要約/通知など）
   - 問題なければ**リリース完了**をSlackやDiscordで周知

---

## 3. ロールバック手順

1. **スナップショット取得**
   - Vercelのデプロイ履歴を活用し、**前バージョンのビルドID**を記録
   - DBはSupabaseで**バックアップ/エクスポート**を定期取得（weeklyなど）

2. **前バージョン復元方法**
   - Vercelの「**Revert to Previous Deployment**」機能 or Gitの`revert`コミットで復旧
   - DBスキーマ変更が原因の場合は**マイグレーションのロールバック**を実行

3. **想定ダウンタイム**
   - VercelのRevert自体は**ほぼ無停止**で切り替え可能
   - DBロールバックが必要な場合は**数分程度のメンテナンス時間**が発生する恐れあり

---

## 4. メンテナンス告知

1. **告知手段**
   - DiscordチャンネルやSlackに「メンテナンス予定」のポスト
   - システム管理画面などに**案内欄**を表示（将来機能）

2. **告知タイミング**
   - **小規模更新**: リリース数時間前に告知
   - **大規模変更**: 1日〜数日前に告知 → 詳細なメンテナンス内容や停止時間を明記

告知テンプレ例:
```
【メンテナンス告知】
日程：〇月〇日(〇) 〇:〇〇〜〇:〇〇 (予定)
内容：AI要約機能アップデート
影響：上記時間中、一時的に要約機能が利用できない可能性があります
ご不便をおかけしますが、ご理解のほどよろしくお願いいたします
```

---

> **まとめ:**
> - **1週間以内にMVPリリース** → フィードバックを得ながら**段階的に拡張**
> - **リリース/ロールバックはVercelの履歴管理**を活用 → 低リスク運用
> - **メンテナンス告知**のルールをあらかじめ定めておくことで、初心者エンジニアでも安心して運用可能
> - 将来的にユーザーや機能が増えても、**段階的にプラン移行・手順拡張**すれば柔軟に対応できる
```
