```markdown
# リスク管理

> **前提**:
> - コストをかけずに小規模スタート → 将来拡張を意識
> - 経験の浅いエンジニアも**短期間で導入・運用**できる形を優先
> - Vercel 無料プラン + Supabase 無料枠 を軸とするため、**無料枠超過リスク**などに留意

---

## 1. リスク一覧

| リスクNo | リスク内容                                                        | 発生確率 | 影響度 | 対策・軽減策                                                                     |
|---------|-------------------------------------------------------------------|----------|--------|-----------------------------------------------------------------------------------|
| R001    | **Vercel無料枠の上限超過**<br>アクセス急増やCron増加によるオーバー | 中       | 大      | - 初期は無料枠で十分だが、**アクセス分析**を行い超過しそうなら早期に有料プラン検討<br>- Cron頻度を**毎時**以上増やす場合は発生リスク大 |
| R002    | **Supabase無料枠超過**<br>DBトランザクション数、ストレージ制限     | 中       | 中      | - 定期的に**DB使用量を監視**し、不要データをアーカイブ or 削除<br>- アクセス増に応じて**有料プラン移行**を計画 |
| R003    | **AIモデルAPIコスト**<br>OpenAI などトークン消費量の予想超過        | 中       | 中      | - 要約の**段階数**や**文字数**を制限し、意図せず大量課金を防ぐ<br>- 月額上限・警告通知など**APIダッシュボード**で設定 |
| R004    | **YouTube Data API or RSSが変更**<br>廃止/仕様変更で取得不可       | 低       | 中      | - RSSフィードが使えなくなった場合、**YouTube Data API** 公式を参照<br>- 定期的にリリースノートを確認し、**対応策**を早期検討 |
| R005    | **AI要約精度が期待未満**<br>モデル更新で挙動変化、結果が読みにくい   | 中       | 小      | - **複数モデル比較機能**を使い、より良いモデルを選択<br>- 要約テンプレを**都度修正**し、最適化を図る |
| R006    | **セキュリティインシデント**<br>JWTキー・APIキー流出, 不正アクセス  | 低       | 大      | - `.env.local` + Vercel環境変数で**秘密情報を管理**しリポジトリに含めない<br>- Supabase側で**RBAC**やネットワーク制限を活用 |
| R007    | **初心者エンジニアの運用負荷**<br>保守ノウハウ不足                  | 中       | 中      | - ドキュメント整備（セットアップガイド、運用マニュアル）<br>- ステージング環境で検証→本番反映の流れを簡素化 |
| R008    | **Discord Webhookエラー**<br>URL不備や認証エラーなど               | 中       | 小      | - エラー発生時に**通知ログ**を記録 → 管理画面で確認<br>- 代替通知先（Slackなど）を**将来拡張**で検討 |

---

## 2. リスク対応計画

1. **事前回避策**
   - **CI/CD** で自動テスト＋プレビュー環境を用い、リリース前の不具合や過負荷を早期発見
   - Vercel / Supabase の**使用量ダッシュボード**を週1回チェック
   - AIモデル呼び出しは**段階数やトークン上限**を事前に設定

2. **発生後の対処方法**
   - **無料枠超過** → 有料プランへのスムーズなアップグレード手順を予め共有
   - **セキュリティインシデント** → 直ちに鍵をローテーション（JWT Secret, APIキー）し、影響範囲調査
   - **YouTube RSS変更** → 当面は**公式API**で代替し、仕様アップデートを追随

---

## 3. リスクレビューサイクル

1. **見直し頻度**
   - **2週間に1回**（スプリントレビュー時） or **月1回**程度、リスクリストを確認
   - 主要リリース前にも**再チェック**し、対策状況を更新

2. **報告方法**
   - チームの**定例ミーティング**でリスクステータスを共有
   - 新たなリスクや発生リスクの**度合い変更**はIssueに記載し、Slack/Discordなどで通知

このサイクルを回すことで、初心者エンジニアでも**大きな問題になる前に**リスクを把握・対応しやすくする。将来的に機能・ユーザー数が増えた際も、リスク管理の仕組みが整っていればスムーズに運用を拡張できる。
```