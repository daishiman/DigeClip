```markdown
---
## 個人情報・機密情報の取扱い

### 1. 収集データ一覧

**概要:**
このシステムでは、主に **ユーザー情報**（管理者ユーザー用）、**コンテンツ情報**（YouTube 字幕・ブログ本文・論文テキスト等の一部に個人情報が含まれる可能性）や **AIモデル設定**（APIキーなど機密要素）を扱う場合があります。現在は必要最小限の要件を定義し、**将来的に機能追加**しやすい設計とする方針です。

1. **ユーザー情報 (users テーブル)**
   - 氏名（任意・表示名）
   - メールアドレス (ログインID)
   - パスワードハッシュ
   - ロール（管理者/一般など）
   - **将来拡張:** 氏名・住所などの追加情報や SNS 連携が必要な場合に備えて `metadata` JSON カラムで対応可

2. **コンテンツ情報**
   - YouTube動画の字幕テキスト、ブログ本文、論文抄録など
   - 一部個人名・連絡先が含まれる可能性
   - AI要約生成時に個人情報を含むテキストが要約結果に出るリスク
   - **対策:** 不要部分をフィルタ or ユーザーが確認して削除できる機能 (将来対応)

3. **AIモデル設定 (ai_models テーブル)**
   - APIキー(暗号化保存)
   - モデル名、プロバイダ情報
   - **将来拡張:** 複数キー管理や期限付きキーの更新プロセス

4. **通知履歴 (notifications)**
   - 送信先 (Discord Webhook URL など)
   - 実際に送信した Embed 内容 (要約テキストを含む)
   - 個人情報が含まれる場合に注意が必要

---

### 2. 暗号化要件

1. **保存データ暗号化**
   - **APIキーなど機密情報**は暗号化 (例: AES256) か、少なくとも Base64+別管理キー
   - パスワード: **ハッシュ (bcrypt, Argon2 など)** で保存
   - 個人情報（氏名/メールアドレス等）は、DB上で平文でも可（最小限）だが、将来公的規制に合わせ暗号化しやすい設計に

2. **通信経路暗号化**
   - **HTTPS/TLS** を必須 (Vercelの無料HTTPSや Supabaseの暗号化通信)
   - Discord Webhook 通信も HTTPS で行われる

3. **パスワードハッシュ方式**
   - **bcrypt** または **Argon2** を推奨
   - ソルト付き、ストレッチ回数を設定 (デフォルトで十分)

4. **将来拡張: KMSとの連携**
   - 高度なセキュリティ要件が出てきた場合、 AWS KMS / GCP KMS / HashiCorp Vault などで管理

---

### 3. 規制・ガイドライン順守

1. **GDPR, Pマーク, CCPA** など
   - 現状は国内中心の小規模運用を想定し、**正式な個人情報保護規定**には簡易対応
   - 将来的に欧州ユーザーや大規模導入が想定される場合、**データ削除請求 (Right to be Forgotten)** やクッキー同意などの機能を追加
   - 現段階では「無期限保存」方針だが、要望や規制がある場合は**データ削除要請に対応する仕組み**を準備

2. **利用規約/プライバシーポリシー**
   - 必要最小限の文書を用意し、個人情報をどう扱うか明示
   - 将来ステークホルダーや法務の意見で改定

3. **ログ・監査**
   - 大きなセキュリティ規制は未対応だが、**Supabaseの監査ログ**や**Vercelのデプロイ履歴**で簡易的に対応
   - 本格的に監査や認証が必要な時は**ISO27001 / SOC2** 等のフレームワーク準拠を検討

---

### 4. 機密情報漏洩対策

1. **権限管理**
   - 管理画面 (Admin) は認証必須、**role** カラムでアクセス制御
   - 一般ユーザー: 要約閲覧やタグ編集程度
   - 将来、大企業向けなら**RBAC**(Role-Based Access Control) の細分化

2. **ログ監査**
   - Supabase やアプリ側で主要操作(ソース追加, AIモデル追加等) のログを記録
   - 変更履歴をDBに保存 or Slack通知(将来オプション)

3. **インシデント報告フロー**
   - 漏洩や不正アクセスが疑われる場合、PM/POへ即時報告 → 障害対応手順書(将来作成)に従う
   - クリティカルならAPIキーを即無効化、DBを一時停止等

4. **機能追加時のセキュリティ考慮**
   - 新機能で個人情報増やす際は暗号化やアクセス制限を再確認
   - APIルートごとにCSRF対策 / JWTの更新等を検討

---

**まとめ**
- 現段階では**最小限の個人情報**（メールアドレス、パスワードハッシュなど）のみ扱い、DB上は平文でも可
- **APIキー**や**パスワード**など機密情報は暗号化orハッシュで安全に保存
- 将来、大規模化や法的要件増大時に**GDPR対応**や**大規模監査ログ管理**を拡張しやすい構成
- お金をかけず、初心者が扱いやすいように**無料プラン + 簡易運用**でスタートし、必要に応じて追加対策していく。
```