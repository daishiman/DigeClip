# ソースリストコンポーネント仕様

## 概要
ソースリストコンポーネントは、登録されたソース（YouTube、RSS、arXiv）の一覧を表示し、検索、ページネーション、ソートなどの機能を提供します。各ソースの編集、削除、ステータス変更などの操作も可能です。

## コンポーネント構造
```
SourceList
├── ListHeader
│   ├── Title
│   ├── AddButton
│   └── SearchInput
├── ListBody
│   ├── Table
│   │   ├── TableHeader
│   │   │   ├── NameColumn
│   │   │   ├── TypeColumn
│   │   │   ├── DetailColumn
│   │   │   └── StatusColumn
│   │   └── TableRows
│   │       └── SourceRow
│   │           ├── NameCell
│   │           ├── TypeCell
│   │           ├── DetailCell
│   │           ├── StatusCell
│   │           └── ActionCell
│   │               ├── EditButton
│   │               └── DeleteButton
│   └── EmptyState (データがない場合)
└── ListFooter
    └── Pagination
```

## プロパティ
```typescript
interface SourceListProps {
  // ソースデータ配列
  sources: Source[];

  // ページネーション情報
  pagination: {
    page: number;
    pageSize: number;
    total: number;
  };

  // データ読み込み中の状態
  isLoading?: boolean;

  // 検索クエリ
  searchQuery?: string;

  // イベントハンドラー
  onPageChange: (page: number) => void;
  onSearch: (query: string) => void;
  onAdd: () => void;
  onEdit: (source: Source) => void;
  onDelete: (sourceId: number) => Promise<void>;
  onStatusChange: (sourceId: number, active: boolean) => Promise<void>;
}
```

## 機能要件

### 1. ソース一覧表示
- テーブル形式でソース情報を表示
- カラム:
  - ソース名: ソースの名称
  - タイプ: YouTube、RSS、arXivなどのアイコン付きタイプ表示
  - 詳細情報: タイプに応じた主要情報（YouTubeチャンネルID、RSSフィードURLなど）
  - ステータス: 有効/無効を示すトグルスイッチ
  - アクション: 編集、削除ボタン
- 行のホバー効果: マウスオーバー時に背景色変更
- 空データ状態: データがない場合の表示

### 2. 検索機能
- インクリメンタル検索: 入力に応じてリアルタイムフィルタリング
- 検索対象: ソース名、タイプ
- 検索中の表示: 検索中はローディングインジケータを表示
- 検索結果なし: 該当データがない場合のメッセージ表示

### 3. ページネーション
- ページ番号表示: 現在のページと総ページ数
- ページ移動: 前へ/次へボタン、ページ番号クリック
- ページサイズ: 1ページあたりの表示件数設定（オプション）
- 総件数表示: 全体の件数を表示

### 4. ソート機能
- カラムヘッダークリックでソート
- ソート方向: 昇順/降順の切り替え
- ソート状態表示: 現在のソート列と方向を視覚的に表示

### 5. アクション機能
- 編集: 行の編集ボタンクリックで編集モーダル表示
- 削除: 行の削除ボタンクリックで確認ダイアログ表示後に削除
- ステータス変更: トグルスイッチで有効/無効を切り替え
- 新規追加: リスト上部の「新規ソース追加」ボタンで追加モーダル表示

## 状態管理
- ローディング状態: データ取得中の表示
- エラー状態: データ取得失敗時のエラーメッセージ
- 選択状態: 行の選択状態管理（オプション）
- ソート状態: 現在のソート列と方向
- ページネーション状態: 現在のページと表示件数

## UI/UX考慮事項
- レスポンシブデザイン: 画面サイズに応じたレイアウト調整
  - モバイル: カード形式表示に切り替え
  - タブレット/デスクトップ: テーブル形式表示
- スケルトンローダー: データ読み込み中の表示
- トースト通知: 操作成功/失敗時のフィードバック
- ツールチップ: アイコンボタンの説明表示
- ドラッグ&ドロップ: 行の並び替え（オプション機能）

## アクセシビリティ
- キーボードナビゲーション: Tab、Enter、Spaceキーでの操作
- スクリーンリーダー対応: 適切なaria属性設定
- フォーカス表示: キーボード操作時の視覚的フォーカス
- 色のみに依存しない情報伝達: アイコンと色の併用

## 実装上の注意点
- 大量データ対応: 仮想スクロールの検討
- 非同期操作: ステータス変更などの操作中の表示
- エラーハンドリング: API通信エラー時の適切な処理
- 最適化: 不要な再レンダリングの防止
- テスト容易性: データとイベントの分離