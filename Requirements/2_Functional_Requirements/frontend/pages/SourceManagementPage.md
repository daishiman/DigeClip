# ソース管理ページ仕様

## 概要
ソース管理ページは、DigeClipが情報を収集するソース（YouTubeチャンネル、RSSフィード、arXivなど）を管理するための画面です。管理者はこのページを通じて、ソースの追加、編集、削除、有効/無効の切り替えを行うことができます。

## ページ構成
```
SourceManagementPage
├── Layout (共通レイアウト)
│   ├── Header
│   ├── Sidebar
│   └── MainContent
│       ├── PageTitle
│       ├── SourceManagement (メインコンポーネント)
│       └── Footer
└── SEO (メタ情報)
```

## ルーティング
- パス: `/sources`
- アクセス権限: 管理者のみ
- クエリパラメータ:
  - `page`: ページ番号（デフォルト: 1）
  - `pageSize`: 1ページあたりの表示件数（デフォルト: 10）
  - `search`: 検索キーワード
  - `type`: ソースタイプでのフィルタリング
  - `active`: 有効/無効状態でのフィルタリング

## データフロー

### 1. データ取得
- ページロード時にソース一覧を取得
- クエリパラメータに基づいてフィルタリング
- 取得中はローディング状態を表示

### 2. データ操作
- ソースの追加: 新規ソースをAPIに送信
- ソースの編集: 既存ソースの情報を更新
- ソースの削除: 指定したソースを削除
- ステータス変更: ソースの有効/無効を切り替え

### 3. 状態管理
- グローバル状態: 認証情報
- ページ状態: ソース一覧、ページネーション、フィルタ条件
- UI状態: モーダル表示、ローディング、エラー

## 機能要件

### 1. 認証・認可
- 未認証ユーザーはログインページにリダイレクト
- 管理者権限のないユーザーはアクセス不可
- セッションタイムアウト時の適切な処理

### 2. ページ操作
- URLクエリパラメータとの同期
  - ページ変更時にURLを更新
  - URLパラメータからの状態復元
- ブラウザ履歴との連携
  - 戻る/進むボタンでの状態復元
  - フィルタ変更時の履歴追加

### 3. エラーハンドリング
- API通信エラーの表示
- 認証エラーの処理
- ネットワークエラーのリトライ機能

## UI/UX要件

### 1. レスポンシブデザイン
- モバイル: 縦スクロールレイアウト
- タブレット/デスクトップ: 横幅を活用したレイアウト
- 画面サイズに応じたコンポーネント配置の最適化

### 2. パフォーマンス
- 初期ロード時間の最適化
- 遅延読み込み（必要に応じて）
- ページ遷移のスムーズさ

### 3. アクセシビリティ
- スクリーンリーダー対応
- キーボードナビゲーション
- 色コントラストの確保

## SEO設定
- タイトル: "ソース管理 | DigeClip管理画面"
- メタ説明: "DigeClipのコンテンツソース（YouTube、RSS、arXiv）を管理するための画面です。"
- robots: "noindex, nofollow"（管理画面のため）

## エラー状態

### 1. データ取得エラー
- エラーメッセージ表示
- リトライボタンの提供
- エラーログの送信（オプション）

### 2. 操作エラー
- フォームバリデーションエラー
- API通信エラー
- 権限エラー

## テスト要件

### 1. ユニットテスト
- コンポーネントのレンダリングテスト
- イベントハンドラのテスト
- 条件分岐のテスト

### 2. 統合テスト
- データフローのテスト
- API連携のテスト
- ルーティングのテスト

### 3. E2Eテスト
- 主要ユーザーフローのテスト
- エラー状態のテスト
- レスポンシブデザインのテスト

## パフォーマンス目標
- 初期ロード時間: 2秒以内
- インタラクション応答時間: 100ms以内
- メモリ使用量の最適化

## 実装上の注意点
- コンポーネントの再利用
- 状態管理の最適化
- エラーバウンダリの設置
- アクセシビリティの確保
- ブラウザ互換性の確認