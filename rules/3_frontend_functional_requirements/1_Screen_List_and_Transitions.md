# 画面一覧・画面遷移図

> **注意:** このドキュメントでは、画面一覧と画面遷移を定義します。共通要件（レスポンシブデザイン、エラーハンドリング、アクセシビリティなど）については [0_Common_Requirements.md](../../3_Frontend_Functional_Requirements/0_Common_Requirements.md) を参照してください。

> **前提:**
> - このプロジェクトは「**お金をかけずに、経験の浅いエンジニアが短期間で実装**」できることを優先するため、**画面構成も最小限**でスタートし、**将来拡張**する前提で設計します。
> - 以下では **初期リリース (フェーズ1)** と **将来対応 (フェーズ2 以降)** に分けて画面一覧と遷移を示します。
> - 各画面の詳細仕様は `screens/` ディレクトリ内の対応するファイルを参照してください。

---

## 1. 画面一覧

### **【初期リリース (フェーズ1)】**

1. **ログイン画面 (Login)** - [詳細仕様](./screens/1_Login.md)
   - 認証画面（管理者のみ利用／一般ユーザーは閲覧のみの場合は省略可）
2. **ダッシュボード画面 (Dashboard)** - [詳細仕様](./screens/2_Dashboard.md)
   - 簡易ステータス表示（新着コンテンツ数、要約結果数、通知履歴など）
   - 「ソース管理」「AIモデル管理」「通知設定」「コンテンツ一覧」などへの導線
3. **ソース管理画面 (Source Management)** - [詳細仕様](./screens/3_SourceManagement.md)
   - 監視対象のYouTubeチャンネル / ブログRSS / 論文RSS の登録・編集・削除
4. **AIモデル設定画面 (AI Model Settings)** - [詳細仕様](./screens/4_AIModelSettings.md)
   - AIモデル一覧表示（OpenAI / Claude / Gemini）
   - API Key 設定、デフォルトモデルの選択
5. **通知設定画面 (Notification Settings)** - [詳細仕様](./screens/5_NotificationSettings.md)
   - Discord Webhook URL 入力
   - 通知テンプレート(Embed タイトルや文言)の編集
   - テスト送信ボタン
6. **コンテンツ一覧画面 (Content List)** - [詳細仕様](./screens/6_ContentList.md)
   - 収集済みコンテンツのタイトル・サムネ・要約ステータス表示
   - タグや日付、ソース別フィルタ
   - 検索機能（簡易）
7. **コンテンツ詳細画面 (Content Detail)** - [詳細仕様](./screens/7_ContentDetail.md)
   - タイトル・サムネ・元リンク・要約結果
   - 複数AIモデルがある場合はタブ切り替え or 一覧比較
   - 通知履歴の確認（いつ通知したか等）
   - タグ追加・削除

---

### **【将来対応 (フェーズ2 以降)】**

1. **タグ管理画面 (Tag Management)** - [詳細仕様](./screens/8_TagManagement.md)
   - タグの一覧表示・新規登録・色設定
   - タグの並べ替え / グルーピングなど
2. **ユーザー管理画面 (User Management)** - [詳細仕様](./screens/9_UserManagement.md)
   - 複数管理者やロールの追加・削除
   - パスワードリセット機能など
3. **システム設定画面 (System Settings)** - [詳細仕様](./screens/10_SystemSettings.md)
   - Cron 実行間隔、データ保持期間、ログレベルなど細かいシステムパラメータ設定
4. **アドバンストAIモデル比較画面 (Advanced AI Comparison)** - [詳細仕様](./screens/11_AdvancedAIComparison.md)
   - 同じコンテンツに対する複数モデル要約をグラフやテキストで詳細比較
   - トークン消費や要約時間などの計測表示
5. **翻訳機能画面 (Translation Settings)** - [詳細仕様](./screens/12_TranslationSettings.md)
   - 多言語翻訳の有無や翻訳対象言語を選ぶUI
6. **大規模運用向け画面 (Large-Scale Operation)** - [詳細仕様](./screens/13_LargeScaleOperation.md)
   - CPU/Memory負荷モニタ、API呼び出し回数グラフなど

> **注意:** 将来対応画面は必要に応じて追加していく形で、フェーズ1 ではスコープ外とします。

---

## 2. 画面遷移図

```mermaid
flowchart LR
    A[ログイン(Login)] --> B[ダッシュボード(Dashboard)]
    B --> S[ソース管理画面]
    B --> M[AIモデル設定画面]
    B --> N[通知設定画面]
    B --> C[コンテンツ一覧画面]

    S --> B
    M --> B
    N --> B
    C --> B
    C --> D[コンテンツ詳細画面]

    D --> C

    %% 将来対応画面
    B --> T[タグ管理画面]
    B --> U[ユーザー管理画面]
    B --> SS[システム設定画面]
    B --> AC[アドバンストAIモデル比較画面]
    B --> TS[翻訳機能画面]
    B --> LO[大規模運用向け画面]
    D --> AC
```

**説明:**
- ユーザー（管理者）はまず **ログイン画面(A)** を通って **ダッシュボード(B)** にアクセス
- ダッシュボードから各種管理画面（ソース管理, AIモデル設定, 通知設定）へ遷移
- **コンテンツ一覧(C)** から詳細(D) を見る流れがメイン
- 将来対応で追加される画面（タグ管理, ユーザー管理, システム設定, 高度AI比較など）はダッシュボードから遷移する想定
- アドバンストAIモデル比較画面はダッシュボードからだけでなく、コンテンツ詳細画面からも遷移可能

---

## 3. 画面間の連携

1. **ログイン → ダッシュボード**:
   - 管理者ログイン成功時にダッシュボードへ
   - 一般ユーザーがログインする必要がなければログイン画面は省略可

2. **ダッシュボード → (ソース管理 / AIモデル設定 / 通知設定 / コンテンツ一覧)**:
   - メインメニューやカードリンクから遷移
   - 戻る操作でダッシュボードへ

3. **コンテンツ一覧 → コンテンツ詳細**:
   - 一覧のアイテムをクリックすると詳細画面に遷移
   - タグ等のフィルタは一覧画面のみで行い、詳細画面には表示専用機能

4. **将来対応画面**（タグ管理・ユーザー管理 など）:
   - ダッシュボードからのリンクを追加
   - 各画面で CRUD 操作後、完了時はダッシュボードか一覧画面へ戻る
   - アドバンストAIモデル比較画面はコンテンツ詳細画面からも遷移可能

5. **エラー時遷移 (未ログイン / 権限不足 / 404 / 500)**:
   - 未ログインで管理画面アクセス時、**ログイン画面**へリダイレクト
   - 存在しないURL は **404エラーページ**(簡素でOK)
   - サーバエラー 500 発生時はエラー画面 or ポップアップ表示

---

## 4. 備考

- **セッション管理**:
  - 管理者ログイン時に **NextAuth** 等でトークンを発行
  - ユーザーが要約を見るだけなら認証不要の読み取り専用UIも可能
- **エラーページ**:
  - 404（Not Found）, 500（Server Error）の簡素なページを用意
  - 必要に応じて「ログインしていない/権限不足」用ページも
- **将来拡張**:
  - タグ管理や詳細なユーザー管理、システム設定画面などを追加しやすいよう、**ダッシュボードを中央ハブ**にする
  - モバイル対応（レスポンシブ）を最小限入れておくと運用がスムーズ
- **UIテンプレート**:
  - Tailwind CSS のシンプルなコンポーネントを活用し、画面間の遷移を統一されたデザインでまとめる
- **お金をかけずに実装**:
  - **Mermaid** などで遷移図を管理し、無料で編集可能
  - **Next.js** の `app` ディレクトリ / `pages` ディレクトリ構成をシンプルに保ち、画面数が増えすぎないように注意

---

### まとめ

- **初期リリース**ではログイン画面(任意)＋ダッシュボード＋管理系画面＋コンテンツ系画面の **最小構成** からスタート。
- 将来はタグ管理やユーザー管理、システム設定など **追加画面** をダッシュボード配下で拡張。
- 画面遷移を極力シンプルにし、**経験の浅いエンジニアでも画面数や設計に混乱しない**よう配慮する。
- エラーハンドリングやモバイル対応は **最低限レベル** にとどめ、 **段階的に品質を高める** 方針。

この画面一覧・遷移図に沿って、**必要なUI/UXを最小限で**短期間に実装し、運用開始後の改善サイクルで徐々に機能拡充していくのが理想です。